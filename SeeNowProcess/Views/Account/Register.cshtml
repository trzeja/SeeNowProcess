
@{
    ViewBag.Title = "Register";
}
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
    <script src="~/Scripts/angularRegister.js"></script>
    <style>
        .control-label.text-left {
            text-align: left;
        }
    </style>
</head>
<h2>Register</h2>

<form ng-app="registerForm" name="registerForm" ng-controller="registerCtrl" class="form-horizontal" ng-submit="registerUser()" novalidate>
    <div>{{message}}</div>
    <div class="form-group row">
        <label class="col-sm-2 control-label" for="login"> Login: </label>
        <input class="col-sm-2 form-control" type="text" id="login" name="login" ng-minlength="5" ng-maxlength="20" ng-model="login" ng-disabled="lock" required autofocus>
        <p class="col-sm-3 control-label text-left" style="color:red" for="login">
            <span class="text-left" ng-show="registerForm.login.$error.required">Required!</span>
            <span ng-show="registerForm.login.$error.minlength">Should be at least 5 characters long</span>
            <span ng-show="registerForm.login.$error.maxlength">Should be less than 20 characters</span>
        </p>
    </div>
    <div class="form-group row">
        <label class="col-sm-2 control-label" for="password"> Password: </label>
        <input class="col-sm-2 form-control" type="password" id="password" name="password" ng-model="password" required autofocus ng-disabled="lock" ng-minlength="6" ng-maxlength="100">
        <p class="col-sm-3 control-label text-left" style="color:red" for="password">
            <span class="text-left" ng-show="registerForm.password.$error.required">Required!</span>
            <span ng-show="registerForm.password.$error.minlength">Should be at least 6 characters long</span>
            <span ng-show="registerForm.password.$error.maxlength">Should be less than 100 characters</span>
        </p>
    </div>
    <div class="form-group row">
        <label class="col-sm-2 control-label" for="confirmPassword"> Confirm Password: </label>
        <input class="col-sm-2 form-control" type="password" id="confirmPassword" name="confirmPassword" ng-model="confirmPassword" ng-disabled="lock" required autofocus match-password="password">
        <p class="col-sm-3 control-label text-left" style="color:red" for="confirmPassword">
            <span class="text-left" ng-show="registerForm.confirmPassword.$error.required">Required!</span>
            <span class="text-left" ng-show="registerForm.confirmPassword.$valid">Password does not match</span>
        </p>
    </div>
    <div class="form-group row">
        <label class="col-sm-2 control-label" for="name"> Full Name: </label>
        <input class="col-sm-2 form-control" type="text" id="name" name="name" ng-model="name" required ng-disabled="lock" autofocus>
        <p class="col-sm-3 control-label text-left" style="color:red" for="name">
            <span class="text-left" ng-show="registerForm.name.$error.required">Required!</span>
        </p>
    </div>
    <div class="form-group row">
        <label class="col-sm-2 control-label" for="email"> Email adress: </label>
        <input class="col-sm-2 form-control" type="email" id="email" name="email" ng-model="email" required ng-disabled="lock" autofocus>
        <p class="col-sm-3 control-label text-left" style="color:red" for="email">
            <span class="text-left" ng-show="registerForm.email.$error.required">Required!</span>
            <span class="text-left" ng-show="registerForm.email.$error.email">Wrong email format</span>
        </p>
    </div>
    <div class="form-group row">
        <!-- sprawdzanie ilosci cyfr i czy cyfry? -->
        <label class="col-sm-2 control-label" for="phone"> Phone number: </label>
        <input class="col-sm-2 form-control" type="tel" id="phone" name="phone" ng-model="phone" required ng-disabled="lock" autofocus>
        <p class="col-sm-3 control-label text-left" style="color:red" for="phone">
            <span class="text-left" ng-show="registerForm.phone.$error.required">Required!</span>
        </p>
    </div>
    <div class="form-group row">
        <label class="col-sm-2 control-label" for="role"> Role: </label>
        <select class="col-sm-2 form-control" type="text" id="role" name="role" ng-model="role" required  ng-disabled="lock" autofocus ng-options="x.description for x in roles_options"></select>
        <p class="col-sm-3 control-label text-left" style="color:red" for="phone">
            <span class="text-left" ng-show="registerForm.role.$error.required">Required!</span>
        </p>
    </div>
    <div class="form-group row">
        <label class="col-sm-10 control-label"></label>
        <input type="submit" class="btn green_button" style="margin-left: 20%" value="REGISTER" 
               ng-disabled="registerForm.login.$error.required || registerForm.login.$error.minlength
               || registerForm.password.$error.maxlength || registerForm.password.$error.required 
               || registerForm.password.$error.minlength || registerForm.password.$error.maxlength
               || registerForm.confirmPassword.$error.required || registerForm.confirmPassword.$valid
               || registerForm.name.$error.required || registerForm.email.$error.required
               || registerForm.email.$error.email || registerForm.phone.$error.required
               || registerForm.role.$error.required || lock"/>
               <!--nie wiem czemu nie dziala, moze jakiego bledu nie widze ng-disabled="registerForm.$invalid"-->
        
    </div>
</form>


@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
