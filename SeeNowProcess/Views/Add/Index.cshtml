@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@{
    ViewBag.Title = "Index";
}
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - SeeNowProcess</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    <link rel="stylesheet" type="text/css" href="~/Content/leftmenu.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
</head>
<!--Anna-->
<body>
    <!--przesuwa wszystko niewiadomo czemu-->

    <script>
        var taskApp = angular.module("taskForm", []);
        taskApp.controller("taskCtrl", function ($scope) {
            $scope.tasks =
                [
                    {
                        title: "Aaa", description: "Bbb",
                        status: "open", importance: "trivial",
                        estimated_time: "2 weeks", parent: "s"
                    }
                ];
            /* Roksana:
            1. Nie dodaję na razie "Choose an option" które dodała Ania, zostaje puste pole które po wyborze opcji
            znika z listy wyboru. Nie wiem na razie czy to dobry pomysł, zależy czy to będzie obowiązkowe pole (?)
            2. Chyba niepotrzebnie dodałam to jako obiekty, ale proszę o weryfikację */
            $scope.status_options =
                [
                    { value: "open", description: "Open" },
                    { value: "suspended", description: "Suspended" },
                    { value: "closed", description: "Closed" }
                ];
            $scope.importance_options =
                [
                     { value: "none", description: "None" },
                     { value: "trivial", description: "Trivial" },
                     { value: "regular", description: "Regular" },
                     { value: "important", description: "Important" },
                     { value: "critical", description: "Critical" }
                ];
            $scope.parent_options =
                [
                     { value: "s", description: "Small (S)" },
                     { value: "m", description: "Medium (M)" },
                     { value: "l", description: "Large (L)" },
                     { value: "xl", description: "Extra large (XL)" },
                ];
            $scope.addTask = function () {
                $scope.tasks.push({
                    title: $scope.title, description: $scope.description, status: $scope.status.value,
                    importance: $scope.importance.value, estimated_time: $scope.estimated_time, parent: $scope.parent.value
                });
            }
        });
    </script>



    <form ng-app="taskForm" name="taskForm" ng-controller="taskCtrl" class="form-horizontal" method="post">
        <ul>
            <li ng-repeat="x in tasks">
                {{x.title}}<br>
                {{x.description}}<br>
                {{x.status}}<br>
                {{x.importance}}<br>
                {{x.estimated_time}}<br>
                {{x.parent}}
            </li>
        </ul>

        <div class="form-group row">
            <label class="col-sm-2 control-label" for="task_title"> TITLE: </label>
            <input class="form-control" type="text" id="task_title" ng-model="title">
        </div>
        <div class="form-group row">
            <label class="col-sm-2 control-label" for="task_description"> DESCRIPTION: </label>
            <textarea class="form-control" rows="5" id="task_description" ng-model="description"> </textarea>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 control-label" for="task_status"> STATUS: </label>
            <select class="form-control" name="task_status" ng-model="status" ng-options="x.description for x in status_options"></select>
        </div>
        <div class="form-group row">
            <label class="control-label col-sm-2" for="task_importance"> IMPORTANCE: </label>
            <select class="form-control" name="task_importance" ng-model="importance" ng-options="x.description for x in importance_options"></select>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 control-label" for="task_estimated_time"> ESTIMATED TIME: </label>
            <input class="form-control" type="text" id="task_estimated_time" ng-model="estimated_time">
        </div>
        <div class="form-group row">
            <label class="col-sm-2 control-label selectContainer" for="task_parent"> PARENT TASK: </label>
            <select class="form-control" name="task_parent" ng-model="parent" ng-options="x.description for x in parent_options"></select>
        </div>
        <div class="form-group row">
            <label class="col-sm-10 control-label"></label>
            <input type="submit" class="btn green_button" style="margin-left: 20%" value="ADD TASK" ng-click="addTask()"><!--ADD TASK</input>-->
        </div>
    </form>
</body>
